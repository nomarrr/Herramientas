<div class="brainstorm-container">
  <div class="icono-idea">ğŸ’¡</div>
  <h3>Ideas de {{ nombreUsuario }}</h3>
  <p class="descripcion">
    Comparte tus ideas para este proyecto. Puedes agregar hasta {{ maxIdeas }} ideas.
  </p>
  <div class="ideas-list">
    <div *ngIf="ideas.length === 0" class="empty-message">
      No hay ideas aÃºn. Â¡SÃ© el primero en aportar!
    </div>
    <div *ngFor="let idea of ideas; let i = index" class="idea-bubble">
      <ng-container *ngIf="editIndex !== i; else editBlock">
        <div class="idea-content">
          <div class="idea-text">{{ idea.idea }}</div>
          <div class="idea-meta">
            <span class="idea-author">{{ idea.nombre }}</span>
            <span class="idea-date">{{ idea.fecha | date:'short' }}</span>
          </div>
        </div>
        <div class="idea-actions">
          <button class="edit-btn" (click)="startEdit(i)">
            <img src="/img/edit.svg" alt="Editar" />
          </button>
          <button class="delete-btn" (click)="deleteIdea(i)">
            <img src="/img/delete.svg" alt="Eliminar" />
          </button>
        </div>
      </ng-container>
      <ng-template #editBlock>
        <input [(ngModel)]="editValue" maxlength="100" />
        <button class="save-btn" (click)="saveEdit(i)">
          <img src="/img/save.svg" alt="Guardar" />
        </button>
        <button class="cancel-btn" (click)="cancelEdit()">
          Cancelar
        </button>
      </ng-template>
    </div>
  </div>
  <div class="input-area">
    <input
      [(ngModel)]="newIdea"
      [disabled]="ideas.length >= maxIdeas"
      (keyup.enter)="addIdea()"
      placeholder="Escribe tu idea..."
      maxlength="100"
    />
    <button (click)="addIdea()" [disabled]="ideas.length >= maxIdeas || !newIdea.trim()">Agregar</button>
  </div>
  <div class="counter">
    {{ ideas.length }} / {{ maxIdeas }} ideas
  </div>
</div>
